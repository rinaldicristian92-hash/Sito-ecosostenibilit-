<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlayEco Events - Giochi Sostenibili</title>
    <style>
        /* --- VARIABILI COLORI (Tema Chiaro/Scuro) --- */
        :root {
            --primary: #4CAF50;
            --secondary: #8BC34A;
            --accent: #FFC107;
            --bg-color: #f4f9f4;
            --card-bg: #ffffff;
            --text-color: #2c3e50;
            --text-light: #555;
            --shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        body.dark-mode {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-color: #e0e0e0;
            --text-light: #b0b0b0;
            --shadow: 0 4px 15px rgba(0,0,0,0.5);
        }

        /* --- RESET & BASE --- */
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; transition: background-color 0.3s, color 0.3s; }
        body { background-color: var(--bg-color); color: var(--text-color); overflow-x: hidden; }
        
        /* --- LOADER --- */
        #loader {
            position: fixed; inset: 0; background: var(--bg-color);
            display: flex; justify-content: center; align-items: center; z-index: 1000;
            flex-direction: column;
        }
        .spinner {
            width: 50px; height: 50px; border: 5px solid var(--secondary);
            border-top: 5px solid var(--primary); border-radius: 50%;
            animation: spin 1s linear infinite; margin-bottom: 20px;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* --- NAVIGAZIONE --- */
        nav {
            display: flex; justify-content: space-between; align-items: center;
            padding: 20px 5%; background: var(--card-bg); box-shadow: var(--shadow);
            position: sticky; top: 0; z-index: 100;
        }
        .logo { font-size: 1.5rem; font-weight: bold; color: var(--primary); }
        .theme-toggle {
            cursor: pointer; font-size: 1.5rem; background: none; border: none; color: var(--text-color);
        }

        /* --- HERO SECTION --- */
        .hero {
            height: 80vh; display: flex; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; padding: 20px;
            background: linear-gradient(135deg, rgba(76,175,80,0.1), rgba(139,195,74,0.1));
        }
        .hero h1 { font-size: 3rem; margin-bottom: 20px; color: var(--primary); }
        .hero p { font-size: 1.2rem; max-width: 600px; margin-bottom: 30px; color: var(--text-light); }
        .btn {
            padding: 12px 30px; background: var(--primary); color: white;
            border: none; border-radius: 25px; font-size: 1rem; cursor: pointer;
            text-decoration: none; box-shadow: 0 4px 10px rgba(76,175,80,0.3);
        }
        .btn:hover { background: var(--secondary); transform: translateY(-2px); }

        /* --- ANIMAZIONI SCROLL (SWIPE) --- */
        .reveal {
            opacity: 0; transform: translateY(50px); transition: all 0.8s ease-out;
        }
        .reveal.active { opacity: 1; transform: translateY(0); }

        /* --- SEZIONI --- */
        section { padding: 60px 10%; }
        h2 { text-align: center; margin-bottom: 40px; color: var(--primary); font-size: 2rem; }

        /* --- ATTIVIT√Ä --- */
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; }
        .card {
            background: var(--card-bg); padding: 30px; border-radius: 15px;
            box-shadow: var(--shadow); text-align: center;
        }
        .card-icon { font-size: 3rem; margin-bottom: 15px; display: block; }
        .card h3 { margin-bottom: 10px; }

        /* --- QUIZ --- */
        .quiz-container {
            background: var(--card-bg); padding: 40px; border-radius: 15px;
            box-shadow: var(--shadow); max-width: 600px; margin: 0 auto;
        }
        .options button {
            display: block; width: 100%; padding: 15px; margin: 10px 0;
            border: 2px solid var(--secondary); background: transparent;
            border-radius: 8px; cursor: pointer; color: var(--text-color); font-size: 1rem;
        }
        .options button:hover { background: var(--secondary); color: white; }
        .options button.correct { background: var(--primary); color: white; border-color: var(--primary); }
        .options button.wrong { background: #e74c3c; color: white; border-color: #e74c3c; }
        #feedback { margin-top: 20px; font-weight: bold; text-align: center; min-height: 24px; }

        /* --- CITAZIONI (TYPEWRITER) --- */
        .quote-section {
            background: var(--primary); color: white; text-align: center;
        }
        .quote-container { font-size: 1.5rem; font-style: italic; min-height: 100px; display: flex; align-items: center; justify-content: center; }
        .cursor { border-right: 2px solid white; animation: blink 0.7s infinite; }
        @keyframes blink { 50% { border-color: transparent; } }

        /* --- FOOTER --- */
        footer {
            text-align: center; padding: 20px; background: var(--card-bg);
            color: var(--text-light); border-top: 1px solid rgba(0,0,0,0.1);
        }

        /* Responsive Mobile */
        @media (max-width: 768px) {
            .hero h1 { font-size: 2rem; }
            section { padding: 40px 5%; }
        }
    </style>
</head>
<body>

    <div id="loader">
        <div class="spinner"></div>
        <h2>PlayEco Events</h2>
        <p>Caricamento Sostenibilit√†...</p>
    </div>

    <nav>
        <div class="logo">üåø PlayEco Events</div>
        <button class="theme-toggle" id="themeToggle" title="Cambia Tema">üåô</button>
    </nav>

    <header class="hero">
        <h1 class="reveal">Gioca per il Pianeta</h1>
        <p class="reveal">Un evento unico dove il divertimento incontra l'ecosostenibilit√†. Scopri attivit√† green alla portata di tutti.</p>
        <a href="#activities" class="btn reveal">Scopri le Attivit√†</a>
    </header>

    <section id="activities">
        <h2 class="reveal">Le Nostre Attivit√† Green</h2>
        <div class="grid">
            <div class="card reveal">
                <span class="card-icon">‚ôªÔ∏è</span>
                <h3>Staffetta del Riciclo</h3>
                <p>Una gara a squadre per imparare a differenziare correttamente i rifiuti in tempi record!</p>
            </div>
            <div class="card reveal">
                <span class="card-icon">üå±</span>
                <h3>Orto Urbano Collettivo</h3>
                <p>Workshop pratico per creare bombe di semi e piccoli orti da balcone con materiali di recupero.</p>
            </div>
            <div class="card reveal">
                <span class="card-icon">üö≤</span>
                <h3>Energia a Pedali</h3>
                <p>Sfida i tuoi amici: chi riesce a generare pi√π energia pedalando per accendere le luci del palco?</p>
            </div>
        </div>
    </section>

    <section id="quiz">
        <h2 class="reveal">Quanto sei Green?</h2>
        <div class="quiz-container reveal">
            <h3 id="question-text">Domanda...</h3>
            <div class="options" id="options-container">
                </div>
            <div id="feedback"></div>
            <button id="next-btn" class="btn" style="display:none; margin-top:15px; margin-left: auto; margin-right: auto;">Prossima Domanda</button>
        </div>
    </section>

    <section class="quote-section">
        <h2 style="color: white;">Ispirazione in Tempo Reale</h2>
        <div class="quote-container">
            <span id="typewriter"></span><span class="cursor"></span>
        </div>
    </section>

    <footer>
        <p>&copy; 2023 PlayEco Events - Divertimento Responsabile.</p>
    </footer>

    <script>
        // --- 1. LOADER ---
        window.addEventListener('load', () => {
            const loader = document.getElementById('loader');
            loader.style.opacity = '0';
            setTimeout(() => { loader.style.display = 'none'; }, 500);
        });

        // --- 2. DARK MODE ---
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;
        
        // Controlla se c'√® una preferenza salvata
        if (localStorage.getItem('theme') === 'dark') {
            body.classList.add('dark-mode');
            themeToggle.textContent = '‚òÄÔ∏è';
        }

        themeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            const isDark = body.classList.contains('dark-mode');
            themeToggle.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        });

        // --- 3. SCROLL ANIMATION (Swipe Reveal) ---
        const reveals = document.querySelectorAll('.reveal');

        const revealOnScroll = () => {
            const windowHeight = window.innerHeight;
            const elementVisible = 150;

            reveals.forEach((reveal) => {
                const elementTop = reveal.getBoundingClientRect().top;
                if (elementTop < windowHeight - elementVisible) {
                    reveal.classList.add('active');
                }
            });
        };

        window.addEventListener('scroll', revealOnScroll);
        // Trigger iniziale
        revealOnScroll();

        // --- 4. QUIZ LOGIC ---
        const questions = [
            {
                question: "Quanto tempo impiega una bottiglia di plastica a degradarsi?",
                answers: ["50 anni", "100 anni", "Fino a 450 anni", "Non si degrada mai"],
                correct: 2
            },
            {
                question: "Qual √® la regola delle 3 R?",
                answers: ["Ridurre, Riusare, Riciclare", "Raccogliere, Rompere, Rischiare", "Risparmiare, Ridere, Rilassarsi", "Rifiutare, Regatare, Rimuovere"],
                correct: 0
            },
            {
                question: "Quale di questi NON √® una fonte di energia rinnovabile?",
                answers: ["Solare", "Eolica", "Carbone", "Idroelettrica"],
                correct: 2
            }
        ];

        let currentQuestion = 0;
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const feedback = document.getElementById('feedback');
        const nextBtn = document.getElementById('next-btn');

        function loadQuestion() {
            const q = questions[currentQuestion];
            questionText.textContent = q.question;
            optionsContainer.innerHTML = '';
            feedback.textContent = '';
            nextBtn.style.display = 'none';

            q.answers.forEach((answer, index) => {
                const btn = document.createElement('button');
                btn.textContent = answer;
                btn.onclick = () => checkAnswer(index, q.correct, btn);
                optionsContainer.appendChild(btn);
            });
        }

        function checkAnswer(selected, correct, btnElement) {
            const buttons = optionsContainer.querySelectorAll('button');
            buttons.forEach(b => b.disabled = true); // Disabilita tutti

            if (selected === correct) {
                btnElement.classList.add('correct');
                feedback.textContent = "Corretto! Ottimo lavoro üåø";
                feedback.style.color = "var(--primary)";
            } else {
                btnElement.classList.add('wrong');
                buttons[correct].classList.add('correct'); // Mostra quella giusta
                feedback.textContent = "Sbagliato! Riprova la prossima volta.";
                feedback.style.color = "#e74c3c";
            }

            if (currentQuestion < questions.length - 1) {
                nextBtn.style.display = 'block';
            } else {
                feedback.textContent += " - Quiz Completato!";
            }
        }

        nextBtn.addEventListener('click', () => {
            currentQuestion++;
            loadQuestion();
        });

        loadQuestion();

        // --- 5. TYPEWRITER QUOTES ---
        const quotes = [
            '"Non c\'√® un Pianeta B." - Make Planet Great Again',
            '"La Terra non appartiene all\'uomo, √® l\'uomo che appartiene alla Terra." - Toro Seduto',
            '"Sii il cambiamento che vuoi vedere nel mondo." - Mahatma Gandhi',
            '"Il momento migliore per piantare un albero era 20 anni fa. Il secondo miglior momento √® ora." - Proverbio',
            '"Non abbiamo ereditato la terra dai nostri padri, l\'abbiamo presa in prestito dai nostri figli." - Proverbio Nativo Americano'
        ];

        const textElement = document.getElementById('typewriter');
        let quoteIndex = 0;
        let charIndex = 0;
        let isDeleting = false;

        function type() {
            const currentQuote = quotes[quoteIndex];
            
            if (isDeleting) {
                textElement.textContent = currentQuote.substring(0, charIndex - 1);
                charIndex--;
            } else {
                textElement.textContent = currentQuote.substring(0, charIndex + 1);
                charIndex++;
            }

            let typeSpeed = 50;

            if (!isDeleting && charIndex === currentQuote.length) {
                // Pausa alla fine della frase
                typeSpeed = 3000;
                isDeleting = true;
            } else if (isDeleting && charIndex === 0) {
                isDeleting = false;
                quoteIndex = (quoteIndex + 1) % quotes.length;
                typeSpeed = 500;
            }

            setTimeout(type, typeSpeed);
        }

        // Avvia l'effetto scrittura
        document.addEventListener('DOMContentLoaded', type);

    </script>
</body>
</html>
